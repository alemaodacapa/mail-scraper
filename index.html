<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Maps Email Scraper</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
    {
        "imports": {
            "axios": "https://cdn.jsdelivr.net/npm/axios@1.3.4/+esm"
        }
    }
    </script>
</head>
<body>
    <div class="container">
        <h1>Google Maps Email Scraper</h1>
        
        <div class="search-box">
            <div class="input-group">
                <input type="text" id="keywords" placeholder="Digite o tipo de negócio (ex: restaurantes, lojas)">
                <select id="state">
                    <option value="">Selecione o Estado</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AM">Amazonas</option>
                    <option value="AP">Amapá</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="PR">Paraná</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SE">Sergipe</option>
                    <option value="SP">São Paulo</option>
                    <option value="TO">Tocantins</option>
                </select>
                <input type="text" id="city" placeholder="Digite a cidade">
            </div>
            <button onclick="startScraping()" id="search-button">
                <svg viewBox="0 0 24 24" class="search-icon">
                    <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
                Iniciar Busca
            </button>
        </div>

        <div class="results">
            <div class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
                <span id="progress-text">0%</span>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <svg viewBox="0 0 24 24" class="stat-icon">
                        <path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"/>
                    </svg>
                    <span>E-mails encontrados: <span id="email-count">0</span></span>
                </div>
                <div class="stat-item">
                    <svg viewBox="0 0 24 24" class="stat-icon">
                        <path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    <span>Locais processados: <span id="pages-processed">0</span></span>
                </div>
            </div>

            <textarea id="email-list" readonly placeholder="Os e-mails encontrados aparecerão aqui..."></textarea>
            
            <div class="actions">
                <button onclick="exportToTXT()" class="action-button">
                    <svg viewBox="0 0 24 24" class="action-icon">
                        <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                    </svg>
                    Exportar TXT
                </button>
                <button onclick="exportToCSV()" class="action-button">
                    <svg viewBox="0 0 24 24" class="action-icon">
                        <path fill="currentColor" d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/>
                    </svg>
                    Exportar CSV
                </button>
                <button onclick="copyToClipboard()" class="action-button">
                    <svg viewBox="0 0 24 24" class="action-icon">
                        <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                    </svg>
                    Copiar
                </button>
            </div>
        </div>
    </div>
    <script type="module" src="script.js"></script>
</body>
</html>
